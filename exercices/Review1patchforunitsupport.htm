<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="http://code.remobjects.com/media/idf/css/yui.css" />
  <link rel="stylesheet" type="text/css" href="http://code.remobjects.com/media/idf/css/style.css" />
  <link rel="icon" type="image/png" href="http://code.remobjects.com/media/idf/img/favicon.png" />
  <!--[if lt IE 7]>
  <link rel="stylesheet" type="text/css" href="http://code.remobjects.com/media/idf/css/ie6.css" />
  <![endif]-->
  <link rel="stylesheet" type="text/css" href="http://code.remobjects.com/media/idf/css/prettify.css" />
  <title>Review 1: patch for unit support - Pascal Script, a script engine for Delphi</title>
  <script type="text/javascript" src="http://code.remobjects.com/media/idf/js/jquery-1.2.6.min.js"></script>
  <meta name="indefero-version" content="1.1.1" />
<meta name="indefero-revision" content="78f5cef5bd6d0b998f78373076322c89c14e8e11" />

</head>
<body>
<div id="doc3">
  <div id="hd">
    <h1 class="project-title">RemObjects Pascal Script for Delphi</h1>
    <a href="#title" accesskey="2"></a>
<ul id="main-menu">
<li>
<a href="/login/">Sign in or create your account</a></li>
<li id="project-list"><a href="/">Project List &#x25be;</a>

<ul>
<li>
<a href="/p/adiumfullscreen/">Adium Full Screen Plugin</a></li>

<li>
<a href="/p/battery/">Battery</a></li>

<li>
<a href="/p/csharptoxy/">C# to Oxygene</a></li>

<li>
<a href="/p/calendar/">calendar</a></li>

<li>
<a href="/p/prismaspects/">Delphi Prism Aspects</a></li>

<li>
<a href="/p/prismtemplates/">Delphi Prism Templates</a></li>

<li>
<a href="/p/iPhoneGoodies/">iPhone Goodies</a></li>

<li>
<a href="/p/monohelpers/">Mono Helpers</a></li>

<li>
<a href="/p/ndeskoptionspas/">NDesk Options for Prism</a></li>

<li>
<a href="/p/obfuscar/">Obfuscar</a></li>

<li>
<a href="/p/oxygene-monodroid-samples/">Oxygene MonoDroid Samples</a></li>

<li>
<a href="/p/internetpack/">RemObjects Internet Pack for .NET</a></li>

<li>
<a href="/p/oxidizer/">RemObjects Oxidizer</a></li>

<li>
<a href="/p/pascalscript/">RemObjects Pascal Script for Delphi</a></li>

<li>
<a href="/p/roscript2/">RemObjects Script 2.0</a></li>

<li>
<a href="/p/roscript/">RemObjects Script [DEPRECATED]</a></li>

<li>
<a href="/p/shineon/">ShineOn</a></li>

<li>
<a href="/p/twinpeaks/">Twin Peaks</a></li>
</ul>
</li><li>
<a href="/help/" title="Help and accessibility features">Help</a></li>
</ul>


<script type="text/javascript" charset="utf-8">

$(document).ready(function() {
  $('#project-list').bind('mouseenter', function(ev) {
    $(this).find('ul').show();
  }).bind('mouseleave', function(ev) {
    $(this).find('ul').hide();
  });
});

</script>



<div id="header">
<div id="main-tabs">

  <a accesskey="1" href="/p/pascalscript/">Project Home</a>
  <a href="/p/pascalscript/downloads/">Downloads</a>
  <a href="/p/pascalscript/doc/">Documentation</a>
 <a href="/p/pascalscript/issues/">Issues</a>
 <a href="/p/pascalscript/source/tree/HEAD/">Source</a>
 <a href="/p/pascalscript/review/" class="active">Code Review</a>

</div>

<div id="sub-tabs">
<a href="/p/pascalscript/review/">Open Reviews</a> 
 | <a href="/login/">Sign in or create your account</a> to create issues or add comments
</div>

</div>

      <h1 class="title" id="title">Review <a href="/p/pascalscript/review/1/">1</a>: patch for unit support</h1>

  </div>
  <div id="bd">
    <div id="yui-main">
      <div class="yui-b">
    <div class="yui-g">
          
      <div class="content">

<table class="disp" summary="">
<tr><td>
<table class="commit" summary="">
<tr>
<th><strong>Created:</strong></th><td>2009-12-11 09:06:17 (3 years 3 months  ago)</td>
</tr>
<tr>
<th><strong>Updated:</strong></th><td>3 years 3 months  ago</td>
</tr>
<tr>
<th><strong>Author:</strong></th><td>Carlo Kok</td>
</tr>
<tr>
<th><strong>Commit:</strong></th><td class="mono"><a href="/p/pascalscript/source/tree/193/" title="View corresponding source tree">193</a></td>
</tr>
<tr>
<th><strong>Description:</strong></th><td>patch for unit support<br /><br />patch from MfG Natter for improved unit support</td>
</tr>
<tr>
<th><strong>Reviewers:</strong></th><td>Carlo Kok, Mason Wheeler, </td>
</tr>
<tr>
<th><strong>Files:</strong></th>
<td>



<a href="/p/pascalscript/source/tree/193/uPSCompiler.pas">uPSCompiler.pas</a> (<a href="#diff-abc8f9707a26d46bff3892ee79bd80af">16 diffs</a>, <a href="#ct-abc8f9707a26d46bff3892ee79bd80af">2 comments</a>)<br />



<a href="/p/pascalscript/source/tree/193/uPSUtils.pas">uPSUtils.pas</a> (<a href="#diff-dd65446ffd26a76a7f2c906680269ec9">2 diffs</a>, <a href="#ct-dd65446ffd26a76a7f2c906680269ec9">1 comment</a>)<br />

</td>
</tr>
<tr>
<th>&nbsp;</th><td><a href="/p/pascalscript/review/getpatch/1/"><img style="vertical-align: text-bottom;" src="http://code.remobjects.com/media/idf/img/package-grey.png" alt="Archive" align="bottom" /></a> <a href="/p/pascalscript/review/getpatch/1/" class="soft">Download the corresponding diff file</a></td>
</tr>
</table>
</td><td>

</td></tr>
</table>

<form method="post" action=".">

<table class="diff" summary=" ">
<tbody>
<tr id="diff-abc8f9707a26d46bff3892ee79bd80af"><th colspan="4">uPSCompiler.pas</th></tr>
<tr><th colspan="2">Old</th><th colspan="2">New</th></tr>
<tr class="diff-line"><td class="diff-lc">748</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">748</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">749</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">749</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">750</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">750</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">751</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">751</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">752</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">752</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">753</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">753</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">754</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">754</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">755</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">755</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">756</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">756</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">757</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">757</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">758</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecInvalidnumberOfParameters</code></td><td class="diff-lc">758</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecInvalidnumberOfParameters</code></td></tr>
<tr class="diff-line"><td class="diff-lc">759</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td><td class="diff-lc">759</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">760</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;, ecNotAllowed,</code></td><td class="diff-lc">760</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;, ecNotAllowed,</code></td></tr>
<tr class="diff-line"><td class="diff-lc">761</td><td class="diff-r mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecUnitNotFoundOrContainsErrors</code></td><td class="diff-lc"></td><td class="diff-r mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">761</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecUnitNotFoundOrContainsErrors,</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">762</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecCrossReference</code></td></tr>
<tr class="diff-line"><td class="diff-lc">762</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">763</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">763</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;);</code></td><td class="diff-lc">764</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;);</code></td></tr>
<tr class="diff-line"><td class="diff-lc">764</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">765</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">935</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">936</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">936</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">937</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">937</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">938</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">938</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">939</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">939</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">940</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">940</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">941</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">941</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">942</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">942</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">943</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">943</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">944</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">944</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">945</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">945</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td><td class="diff-lc">946</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">946</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitInits : TPSList; //nvds</code></td><td class="diff-lc">947</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitInits : TPSList; //nvds</code></td></tr>
<tr class="diff-line"><td class="diff-lc">947</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitFinits: TPSList; //nvds</code></td><td class="diff-lc">948</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitFinits: TPSList; //nvds</code></td></tr>
<tr class="diff-line"><td class="diff-lc">948</td><td class="diff-r mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUses      : TIFStringList;</code></td><td class="diff-lc"></td><td class="diff-r mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">949</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUses      : TPSStringList;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">950</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fUnits     : TPSUnitList;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">951</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fUnit      : TPSUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">949</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fModule    : tbtString;</code></td><td class="diff-lc">952</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fModule    : tbtString;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">950</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">953</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">951</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fInCompile : Integer;</code></td><td class="diff-lc">954</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fInCompile : Integer;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">1007</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1010</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1008</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1011</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1009</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1012</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1010</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1013</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1011</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1014</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1012</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1015</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1013</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1016</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1014</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1017</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1015</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1018</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1016</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1019</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1017</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function IsCompatibleType(p1, p2: TPSType; Cast: Boolean): Boolean;</code></td><td class="diff-lc">1020</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function IsCompatibleType(p1, p2: TPSType; Cast: Boolean): Boolean;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1018</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1021</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1019</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function IsDuplicate(const s: tbtString; const check: TPSDuplicCheck): Boolean;</code></td><td class="diff-lc">1022</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function IsDuplicate(const s: tbtString; const check: TPSDuplicCheck): Boolean;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1023</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function IsInLokalUnitList(s: tbtString): Boolean;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1020</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1024</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1021</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function NewProc(const OriginalName, Name: tbtString): TPSInternalProcedure;</code></td><td class="diff-lc">1025</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function NewProc(const OriginalName, Name: tbtString): TPSInternalProcedure;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1022</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1026</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">1768</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1772</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1769</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1773</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1770</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1774</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1771</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1775</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1772</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1776</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1773</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1777</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1774</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1778</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1775</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1779</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1776</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1780</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1777</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1781</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1778</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td><td class="diff-lc">1782</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1779</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;RPS_NotAllowed = '%s is not allowed at this position';</code></td><td class="diff-lc">1783</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;RPS_NotAllowed = '%s is not allowed at this position';</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1780</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;RPS_UnitNotFound = 'Unit ''%s'' not found or contains errors';</code></td><td class="diff-lc">1784</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;RPS_UnitNotFound = 'Unit ''%s'' not found or contains errors';</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1785</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;RPS_CrossReference = 'Cross-Reference error of ''%s''';</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1781</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">1786</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1782</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1787</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1783</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1788</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">2252</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2257</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2253</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2258</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2254</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2259</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2255</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2260</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2256</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2261</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2257</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2262</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2258</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2263</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2259</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2264</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2260</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2265</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2261</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2266</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2262</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;else</code></td><td class="diff-lc">2267</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;else</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2263</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td><td class="diff-lc">2268</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2264</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (TPSExternalProcedure(x).RegProc.NameHash = h) and</code></td><td class="diff-lc">2269</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (TPSExternalProcedure(x).RegProc.NameHash = h) and</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2265</td><td class="diff-r mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(TPSExternalProcedure(x).RegProc.Name = Name) then</code></td><td class="diff-lc"></td><td class="diff-r mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2270</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(TPSExternalProcedure(x).RegProc.Name = Name)  and</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">2271</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(IsInLokalUnitList(TPSInternalProcedure(x).DeclareUnit)) then</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2266</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td><td class="diff-lc">2272</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2267</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := l;</code></td><td class="diff-lc">2273</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := l;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">2268</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;</code></td><td class="diff-lc">2274</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">3549</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3555</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3550</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3556</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3551</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3557</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3552</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3558</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3553</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3559</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3554</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3560</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3555</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3561</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3556</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3562</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3557</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3563</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3558</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3564</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3559</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;exit;</code></td><td class="diff-lc">3565</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;exit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3560</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td><td class="diff-lc">3566</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3561</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;if dcTypes in Check then</code></td><td class="diff-lc">3567</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;if dcTypes in Check then</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">3568</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3562</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;for l := FTypes.Count - 1 downto 0 do</code></td><td class="diff-lc">3569</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;for l := FTypes.Count - 1 downto 0 do</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3563</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;begin</code></td><td class="diff-lc">3570</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc">3564</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;if (TPSType(FTypes.Data[l]).NameHash = h) and</code></td><td class="diff-lc">3571</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;if (TPSType(FTypes.Data[l]).NameHash = h) and</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">7518</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7525</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7519</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7526</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7520</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7527</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7521</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7528</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7522</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7529</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7523</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7530</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7524</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7531</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7525</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7532</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7526</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7533</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7527</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7534</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7528</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;for l := 0 to FVars.Count - 1 do</code></td><td class="diff-lc">7535</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;for l := 0 to FVars.Count - 1 do</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7529</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td><td class="diff-lc">7536</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7530</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (TPSVar(FVars[l]).NameHash = h) and</code></td><td class="diff-lc">7537</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (TPSVar(FVars[l]).NameHash = h) and</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7531</td><td class="diff-r mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(TPSVar(FVars[l]).Name = s) then</code></td><td class="diff-lc"></td><td class="diff-r mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7538</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(TPSVar(FVars[l]).Name = s) and</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7539</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(IsInLokalUnitList(TPSVar(FVars[l]).FDeclareUnit)) then</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7532</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td><td class="diff-lc">7540</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7533</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TPSVar(FVars[l]).Use;</code></td><td class="diff-lc">7541</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TPSVar(FVars[l]).Use;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7534</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := TPSValueGlobalVar.Create;</code></td><td class="diff-lc">7542</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := TPSValueGlobalVar.Create;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">7605</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7613</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7606</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7614</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7607</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7615</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7608</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7616</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7609</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7617</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7610</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7618</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7611</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7619</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7612</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7620</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7613</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7621</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7614</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7622</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7615</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;for l := 0 to FConstants.Count -1 do</code></td><td class="diff-lc">7623</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;for l := 0 to FConstants.Count -1 do</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7616</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td><td class="diff-lc">7624</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7617</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t := TPSConstant(FConstants[l]);</code></td><td class="diff-lc">7625</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t := TPSConstant(FConstants[l]);</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7618</td><td class="diff-r mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (t.NameHash = h) and (t.Name = s) then</code></td><td class="diff-lc"></td><td class="diff-r mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7626</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (t.NameHash = h) and (t.Name = s)  and</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">7627</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(IsInLokalUnitList(t.FDeclareUnit)) then</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7619</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td><td class="diff-lc">7628</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7620</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if FType &lt;&gt; 0 then</code></td><td class="diff-lc">7629</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if FType &lt;&gt; 0 then</code></td></tr>
<tr class="diff-line"><td class="diff-lc">7621</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td><td class="diff-lc">7630</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">11094</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11103</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11095</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11104</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11096</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11105</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11097</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11106</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11098</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11107</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11099</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11108</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11100</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11109</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11101</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11110</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11102</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11111</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11103</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11112</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11104</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;OldFileName: tbtString;</code></td><td class="diff-lc">11113</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;OldFileName: tbtString;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11105</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;OldParser  : TPSPascalParser;</code></td><td class="diff-lc">11114</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;OldParser  : TPSPascalParser;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11106</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;OldIsUnit  : Boolean;</code></td><td class="diff-lc">11115</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;OldIsUnit  : Boolean;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11116</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;OldUnit    : TPSUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11107</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">11117</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11108</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11118</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11109</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;procedure Cleanup;</code></td><td class="diff-lc">11119</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;procedure Cleanup;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">11171</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11181</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11172</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11182</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11173</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11183</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11174</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11184</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11175</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11185</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11176</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11186</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11177</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11187</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11178</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11188</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11179</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11189</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11180</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11190</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11181</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitFinits.Free;                            //</code></td><td class="diff-lc">11191</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitFinits.Free;                            //</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11182</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitFinits := nil;                          //</code></td><td class="diff-lc">11192</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitFinits := nil;                          //</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11183</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11193</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11184</td><td class="diff-r mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUses.Free;</code></td><td class="diff-lc"></td><td class="diff-r mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11185</td><td class="diff-r mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUses:=nil;</code></td><td class="diff-lc"></td><td class="diff-r mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11194</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FreeAndNil(fUnits);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11195</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FreeAndNil(FUses);</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11186</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fInCompile:=0;</code></td><td class="diff-lc">11196</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fInCompile:=0;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11187</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">11197</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11188</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td><td class="diff-lc">11198</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">11732</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11742</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11733</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11743</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11734</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11744</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11735</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11745</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11736</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11746</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11737</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11747</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11738</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11748</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11739</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11749</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11740</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11750</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11741</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11751</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11742</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">11752</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11743</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end;</code></td><td class="diff-lc">11753</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11744</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end;</code></td><td class="diff-lc">11754</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11755</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if fUnits.GetUnit(S).HasUses(fModule) then</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11756</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11757</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MakeError('', ecCrossReference, s);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11758</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := False;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11759</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11760</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11761</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11762</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fUnit.AddUses(S);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11763</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11745</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td><td class="diff-lc">11764</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11746</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if Parse then</code></td><td class="diff-lc">11765</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if Parse then</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11747</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td><td class="diff-lc">11766</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">11828</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11847</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11829</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11848</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11830</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11849</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11831</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11850</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11832</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11851</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11833</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11852</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11834</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11853</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11835</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11854</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11836</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11855</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11837</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11856</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11838</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitFinits:= TPSList.Create; //nvds</code></td><td class="diff-lc">11857</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnitFinits:= TPSList.Create; //nvds</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11839</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11858</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11840</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUses:=TIFStringList.Create;</code></td><td class="diff-lc">11859</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUses:=TIFStringList.Create;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11860</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FUnits:=TPSUnitList.Create;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11841</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">11861</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11842</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$IFNDEF PS_NOINTERFACES}  FInterfaces := TPSList.Create;{$ENDIF}</code></td><td class="diff-lc">11862</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$IFNDEF PS_NOINTERFACES}  FInterfaces := TPSList.Create;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11843</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11863</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">11866</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11886</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11867</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11887</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11868</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11888</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11869</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11889</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11870</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11890</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11871</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11891</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11872</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11892</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11873</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11893</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11874</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11894</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11875</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11895</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11876</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td><td class="diff-lc">11896</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11877</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fModule:=OldFileName;</code></td><td class="diff-lc">11897</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fModule:=OldFileName;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11878</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldParser:=nil;</code></td><td class="diff-lc">11898</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldParser:=nil;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11899</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldUnit:=nil;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11879</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldIsUnit:=false; // defaults</code></td><td class="diff-lc">11900</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldIsUnit:=false; // defaults</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11880</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end</code></td><td class="diff-lc">11901</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11881</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;else</code></td><td class="diff-lc">11902</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;else</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11882</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;begin</code></td><td class="diff-lc">11903</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11883</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldParser:=FParser;</code></td><td class="diff-lc">11904</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldParser:=FParser;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11884</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldIsUnit:=FIsUnit;</code></td><td class="diff-lc">11905</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldIsUnit:=FIsUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11906</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;OldUnit:=fUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11885</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FParser:=TPSPascalParser.Create;</code></td><td class="diff-lc">11907</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FParser:=TPSPascalParser.Create;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11886</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FParser.SetText(s);</code></td><td class="diff-lc">11908</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;FParser.SetText(s);</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11887</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td><td class="diff-lc">11909</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11888</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11910</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11911</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;fUnit:=fUnits.GetUnit(fModule);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11912</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11889</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;inc(fInCompile);</code></td><td class="diff-lc">11913</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;inc(fInCompile);</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11890</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">11914</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">11891</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">11915</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">12172</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12196</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12173</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12197</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12174</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12198</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12175</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12199</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12176</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12200</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12177</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12201</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12178</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12202</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12179</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12203</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12180</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12204</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12181</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12205</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12182</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fParser.Free;</code></td><td class="diff-lc">12206</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fParser.Free;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12183</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fParser:=OldParser;</code></td><td class="diff-lc">12207</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fParser:=OldParser;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12184</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fIsUnit:=OldIsUnit;</code></td><td class="diff-lc">12208</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fIsUnit:=OldIsUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">12209</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fUnit:=OldUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12185</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;result:=true;</code></td><td class="diff-lc">12210</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;result:=true;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12186</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td><td class="diff-lc">12211</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">12187</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">12212</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">13561</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13586</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13562</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13587</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13563</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13588</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13564</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13589</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13565</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13590</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13566</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13591</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13567</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13592</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13568</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13593</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13569</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13594</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13570</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13595</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13571</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;result := nil;</code></td><td class="diff-lc">13596</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;result := nil;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13572</td><td class="diff-c mono prettyprint"><code>end;</code></td><td class="diff-lc">13597</td><td class="diff-c mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13573</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13598</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13599</td><td class="diff-a mono prettyprint"><code>function TPSPascalCompiler.IsInLokalUnitList(s: string): Boolean;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13600</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13601</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;s:=FastUpperCase(s);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13602</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;if (s=FastUpperCase(fModule)) or (s='SYSTEM') then</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13603</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13604</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;result:=true;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13605</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;exit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13606</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13607</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;result:=fUnit.HasUses(S);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13608</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13609</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13574</td><td class="diff-c mono prettyprint"><code>{ TPSType }</code></td><td class="diff-lc">13610</td><td class="diff-c mono prettyprint"><code>{ TPSType }</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13575</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">13611</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13576</td><td class="diff-c mono prettyprint"><code>constructor TPSType.Create;</code></td><td class="diff-lc">13612</td><td class="diff-c mono prettyprint"><code>constructor TPSType.Create;</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">13986</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14022</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13987</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14023</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13988</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14024</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13989</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14025</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13990</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14026</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13991</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14027</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13992</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14028</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13993</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14029</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13994</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14030</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13995</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14031</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13996</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td><td class="diff-lc">14032</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$IFDEF PS_USESSUPPORT}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13997</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecNotAllowed : Result:=tbtstring(Format(RPS_NotAllowed,[Param]));</code></td><td class="diff-lc">14033</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecNotAllowed : Result:=tbtstring(Format(RPS_NotAllowed,[Param]));</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13998</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecUnitNotFoundOrContainsErrors: Result:=tbtstring(Format(RPS_UnitNotFound,[Param]));</code></td><td class="diff-lc">14034</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecUnitNotFoundOrContainsErrors: Result:=tbtstring(Format(RPS_UnitNotFound,[Param]));</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">14035</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;ecCrossReference: Result:=Format(RPS_CrossReference,[Param]);</code></td></tr>
<tr class="diff-line"><td class="diff-lc">13999</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td><td class="diff-lc">14036</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;{$ENDIF}</code></td></tr>
<tr class="diff-line"><td class="diff-lc">14000</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;else</code></td><td class="diff-lc">14037</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;else</code></td></tr>
<tr class="diff-line"><td class="diff-lc">14001</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;Result := tbtstring(RPS_UnknownError);</code></td><td class="diff-lc">14038</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;Result := tbtstring(RPS_UnknownError);</code></td></tr>

</tbody>
</table>




<div class="issue-comment issue-comment-first" id="ic1">



<p id="ct-abc8f9707a26d46bff3892ee79bd80af">Comment <a href="/p/pascalscript/review/1/#ic1">1</a> by <a href="/u/ck/">Carlo Kok</a>, Dec 11, 2009</p>

<pre class="issue-comment-text">IsInLokalUnitList should be IsInLocalUnitList but besides that it 
looks quite.</pre>
</div> 

<div class="issue-comment issue-comment-last" id="ic2">



<p>Comment <a href="/p/pascalscript/review/1/#ic2">2</a> by <a href="/u/masonwheeler/">Mason Wheeler</a>, Dec 12, 2009</p>

<pre class="issue-comment-text">This is helpful, but it doesn't solve the fundamental problem with 
the way USES has been implemented.  To demonstrate the problem, 
create two units, both containing a procedure in the interface 
section named &quot;DoSomething&quot;.  Create a program file that 
uses both units.  This is perfectly valid Pascal, but it gives a 
duplicate identifier error and won't compile under PascalScript.

The USES code has to be rearchitected to make this work correctly.</pre>
</div> 



<table class="diff" summary=" ">
<tbody>
<tr id="diff-dd65446ffd26a76a7f2c906680269ec9"><th colspan="4">uPSUtils.pas</th></tr>
<tr><th colspan="2">Old</th><th colspan="2">New</th></tr>
<tr class="diff-line"><td class="diff-lc">395</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">395</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">396</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">396</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">397</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">397</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">398</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">398</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">399</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">399</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">400</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">400</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">401</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">401</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">402</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">402</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">403</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">403</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">404</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">404</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">405</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td><td class="diff-lc">405</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">406</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;TIFStringList = TPsStringList;</code></td><td class="diff-lc">406</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;TIFStringList = TPsStringList;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">407</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">407</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">408</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;TPSUnitList = class;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">408</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">409</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">410</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;TPSUnit = class(TObject)</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">411</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;private</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">412</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fList     : TPSUnitList;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">413</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fUnits    : TPSList;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">414</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fUnitName : TbtString;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">415</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;procedure SetUnitName(const Value: TbtString);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">416</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;public</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">417</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;constructor Create(List: TPSUnitList);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">418</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">419</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;destructor Destroy; override;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">420</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">421</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;procedure AddUses(pUnitName: TbtString);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">422</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">423</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function HasUses(pUnitName: TbtString): Boolean;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">424</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">425</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;property UnitName: TbtString read fUnitName write SetUnitName;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">426</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">427</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">428</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;TPSUnitList = class</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">429</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;private</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">430</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;fList: TPSList;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">431</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function Add: TPSUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">432</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">433</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;public</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">434</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;constructor Create;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">435</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">436</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;function GetUnit(UnitName: TbtString): TPSUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">437</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">438</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;destructor Destroy; override;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">439</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">440</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">441</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">442</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">409</td><td class="diff-c mono prettyprint"><code>type</code></td><td class="diff-lc">443</td><td class="diff-c mono prettyprint"><code>type</code></td></tr>
<tr class="diff-line"><td class="diff-lc">410</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">444</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">411</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;TPSPasToken = (</code></td><td class="diff-lc">445</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;TPSPasToken = (</code></td></tr>
<tr class="diff-next"><td>...</td><td>&nbsp;</td><td>...</td><td>&nbsp;</td></tr>
<tr class="diff-line"><td class="diff-lc">1577</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1611</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1578</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1612</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1579</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1613</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1580</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1614</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1581</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1615</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1582</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1616</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1583</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1617</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1584</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1618</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1585</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1619</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1586</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1620</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1587</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;result := -1;</code></td><td class="diff-lc">1621</td><td class="diff-c mono prettyprint"><code>&nbsp;&nbsp;result := -1;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1588</td><td class="diff-c mono prettyprint"><code>end;</code></td><td class="diff-lc">1622</td><td class="diff-c mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1589</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1623</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1624</td><td class="diff-a mono prettyprint"><code>{ TPSUnitList }</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1625</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1626</td><td class="diff-a mono prettyprint"><code>function TPSUnitList.Add: TPSUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1627</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1628</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;result:=TPSUnit.Create(Self);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1629</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1630</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;fList.Add(result);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1631</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1632</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1633</td><td class="diff-a mono prettyprint"><code>constructor TPSUnitList.Create;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1634</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1635</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;fList:=TPSList.Create;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1636</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1637</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1638</td><td class="diff-a mono prettyprint"><code>destructor TPSUnitList.Destroy;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1639</td><td class="diff-a mono prettyprint"><code>var</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1640</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;Dummy: Integer;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1641</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1642</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;for Dummy:=0 to fList.Count-1 do</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1643</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;TObject(fList[Dummy]).Free;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1644</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1645</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;FreeAndNil(fList);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1646</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1647</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;inherited;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1648</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1649</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1650</td><td class="diff-a mono prettyprint"><code>function TPSUnitList.GetUnit(UnitName: TbtString): TPSUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1651</td><td class="diff-a mono prettyprint"><code>var</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1652</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;Dummy: Integer;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1653</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1654</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;UnitName:=FastUpperCase(UnitName);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1655</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;for Dummy:=0 to fList.Count-1 do</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1656</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1657</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;if TPSUnit(fList[Dummy]).UnitName=UnitName then</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1658</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1659</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result:=TPSUnit(fList[Dummy]);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1660</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1661</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1662</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1663</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1664</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;result:=Add;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1665</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1666</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;result.UnitName:=UnitName;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1667</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1668</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1669</td><td class="diff-a mono prettyprint"><code>{ TPSUnit }</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1670</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1671</td><td class="diff-a mono prettyprint"><code>procedure TPSUnit.AddUses(pUnitName: TbtString);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1672</td><td class="diff-a mono prettyprint"><code>var</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1673</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;UsesUnit: TPSUnit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1674</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1675</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;UsesUnit:=fList.GetUnit(pUnitName);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1676</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;fUnits.Add(UsesUnit);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1677</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1678</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1679</td><td class="diff-a mono prettyprint"><code>constructor TPSUnit.Create(List: TPSUnitList);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1680</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1681</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;fUnits:=TPSList.Create;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1682</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1683</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;fList:=List;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1684</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1685</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1686</td><td class="diff-a mono prettyprint"><code>destructor TPSUnit.Destroy;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1687</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1688</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;FreeAndNIl(fUnits);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1689</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;inherited;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1690</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1691</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1692</td><td class="diff-a mono prettyprint"><code>function TPSUnit.HasUses(pUnitName: TbtString): Boolean;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1693</td><td class="diff-a mono prettyprint"><code>var</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1694</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;Dummy: Integer;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1695</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1696</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;pUnitName:=FastUpperCase(pUnitName);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1697</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1698</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;if fUnitName=pUnitName then</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1699</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1700</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;result:=true;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1701</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;exit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1702</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1703</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1704</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;result:=false;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1705</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1706</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;for Dummy:=0 to fUnits.Count-1 do</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1707</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1708</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;result:=TPSUnit(fUnits[Dummy]).HasUses(pUnitName);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1709</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1710</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;if result then</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1711</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1712</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1713</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1714</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1715</td><td class="diff-a mono prettyprint"><code>procedure TPSUnit.SetUnitName(const Value: TbtString);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1716</td><td class="diff-a mono prettyprint"><code>begin</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1717</td><td class="diff-a mono prettyprint"><code>&nbsp;&nbsp;fUnitName := FastUpperCase(Value);</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1718</td><td class="diff-a mono prettyprint"><code>end;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1719</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc"></td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1720</td><td class="diff-a mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1590</td><td class="diff-c mono prettyprint"><code>end.</code></td><td class="diff-lc">1721</td><td class="diff-c mono prettyprint"><code>end.</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1591</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1722</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>
<tr class="diff-line"><td class="diff-lc">1592</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td><td class="diff-lc">1723</td><td class="diff-c mono prettyprint"><code>&nbsp;</code></td></tr>

</tbody>
</table>




<div class="issue-comment issue-comment-first issue-comment-last" id="ic4">



<p id="ct-dd65446ffd26a76a7f2c906680269ec9">Comment <a href="/p/pascalscript/review/1/#ic4">1</a> by <a href="/u/ck/">Carlo Kok</a>, Dec 18, 2009</p>

<pre class="issue-comment-text">k</pre>
</div> 






<hr align="left" class="attach" />
<h2>General Comments</h2>


<div class="issue-comment issue-comment-first" id="ic1">

    <img style="float:right; position: relative; max-height: 60px; max-width: 60px;" src="http://code.remobjects.com/media/upload/avatars/user_1_588299b9a9a55176b6e60cc6dc8b3217.png" alt=" " />




<p>Comment <a href="/p/pascalscript/review/1/#ic1">1</a> by Carlo Kok, Dec 11, 2009</p>



<pre class="issue-comment-text">some minor typo in uPSCompiler but besides that it looks good.</pre>


</div>

<div class="issue-comment" id="ic2">

    <img style="float:right; position: relative;" src="http://www.gravatar.com/avatar/50facfccdffe2e9cabaa589205959d30.jpg?s=60&amp;d=http://code.remobjects.com/media/idf/img/spacer.gif" alt=" " />




<p>Comment <a href="/p/pascalscript/review/1/#ic2">2</a> by Mason Wheeler, Dec 12, 2009</p>



<pre class="issue-comment-text">See my review of uPSCompiler, above</pre>


</div>

<div class="issue-comment issue-comment-last" id="ic4">

    <img style="float:right; position: relative; max-height: 60px; max-width: 60px;" src="http://code.remobjects.com/media/upload/avatars/user_1_588299b9a9a55176b6e60cc6dc8b3217.png" alt=" " />




<p>Comment <a href="/p/pascalscript/review/1/#ic4">3</a> by Carlo Kok, Dec 18, 2009</p>



<pre class="issue-comment-text">patch applied. Rev <a href="/p/pascalscript/source/commit/195/">195</a></pre>


<div class="issue-changes">

<strong>Status:</strong> Fixed<br />

</div>

</div>
<div class="issue-comment-signin">
<a href="/login/">Sign in</a> to participate in the review.
</div>




</form>
</div>
    </div>
      </div>
    </div>
  </div>
  <div id="ft"></div>
</div>
<script type="text/javascript" src="http://code.remobjects.com/media/idf/js/jquery.hotkeys.js"></script>
<script type="text/javascript" charset="utf-8">
// <!--
jQuery.hotkeys.add('Shift+h',{disableInInput: true},function (){window.location.href='/help/';});

jQuery.hotkeys.add('Shift+u',{disableInInput: true},function (){window.location.href='/p/pascalscript/timeline/all/';});
jQuery.hotkeys.add('Shift+a',{disableInInput: true},function (){window.location.href='/p/pascalscript/issues/create/';});
jQuery.hotkeys.add('Shift+i',{disableInInput: true},function (){window.location.href='/p/pascalscript/issues/';});
jQuery.hotkeys.add('Shift+d',{disableInInput: true},function (){window.location.href='/p/pascalscript/downloads/';});
jQuery.hotkeys.add('Shift+o',{disableInInput: true},function (){window.location.href='/p/pascalscript/doc/';});
jQuery.hotkeys.add('Shift+s',{disableInInput: true},function (){window.location.href='/p/pascalscript/source/tree/HEAD/';});
 //-->
</script>



<script type="text/javascript" charset="utf-8">

$(document).ready(function() {
  $("input.filter-list").each(function() {
    var input = $(this);
    var lists = $("ul#" + input.attr("rel"));
    if (lists.length == 0)
      return;
    var list = $(lists[0]);
    var wrapper = input.parent();

    // a list should contain a reasonable amount of items
    // to be filterable - we also give the filter input a
    // special class here so we recognize it later in case
    // we have to hide it when the list view is collapsed
    if (list.children("li").length > 10) {
      wrapper.addClass("activated");
      input.focus(function() {
        // ensure that the parent of the list keeps activated / opened
        list.parent().addClass("activated");
        if (input.attr("value") == input.attr("title")) {
          input.attr("value", "");
          wrapper.removeClass("default");
        }
      });
      input.blur(function() {
        list.parent().removeClass("activated");
        if (input.attr("value").length == 0) {
          input.attr("value", input.attr("title"));
          wrapper.addClass("default");
        }
      });
      input.keyup(function(ev) {
        var filter = $(this)[0];
        list.children("li").css('display', 'block');
        list.children("li").filter(function(index) {
          if (filter.value == "")
            return false;
          if ($(this).text().indexOf(filter.value) > -1)
            return false;
          return true;
        }).css('display', 'none');
      });
      wrapper.children('span').click(function() {
        input.val('').keyup().blur();
      });
      // initialize it with the default
      input.val('').blur();
    }
  });
});

</script>


<script type="text/javascript" src="http://code.remobjects.com/media/idf/js/prettify.js"></script>
<script type="text/javascript">
prettyPrint();
</script>



<script type="text/javascript" charset="utf-8">
//<![CDATA[
$(document).ready(function(){
    var frag = location.hash;
    if ($('#preview').length) {
        location.hash = '#preview';
    }
    else if (frag.length > 3 && frag.substring(0, 3) == '#ic') {
        $(frag).addClass("issue-comment-focus");
    }
});
//]]>
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript"> try {
var pageTracker = _gat._getTracker("UA-556665-18");
pageTracker._trackPageview(); } catch(err) {}
</script></body>
</html>
